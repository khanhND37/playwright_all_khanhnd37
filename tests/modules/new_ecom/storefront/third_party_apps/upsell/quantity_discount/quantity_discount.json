{
  "pre_data": {
    "app_upsell": {
      "name": "usell",
      "status": true,
      "offer": {
        "activated": true,
        "enable_discount": true,
        "offer_type": "quantity",
        "offer_name": "Offer",
        "offer_message": "Buy More Save More!",
        "offer_title": "Wait {{last_name}}! We've got a special offer for you."
      },
      "offers": [
        {
          "target_type": "all",
          "target_ids": [],
          "discount_data": "{\"data\":[{\"key\":0,\"min_quantity\":2,\"value_discount\":10,\"type\":\"amount_each\"},{\"key\":1,\"min_quantity\":3,\"value_discount\":15,\"type\":\"amount_each\"},{\"key\":2,\"min_quantity\":5,\"value_discount\":20,\"type\":\"amount_each\"}]}"
        },
        {
          "target_type": "collection",
          "target_ids": ["Collection 1"],
          "discount_data": "{\"data\":[{\"key\":0,\"min_quantity\":4,\"value_discount\":10,\"type\":\"amount_each\"},{\"key\":1,\"min_quantity\":5,\"value_discount\":15,\"type\":\"percentage_each\"}]}"
        },
        {
          "target_type": "product",
          "target_ids": ["Product D"],
          "discount_data": "{\"data\":[{\"key\":0,\"min_quantity\":2,\"value_discount\":15,\"type\":\"amount_each\"}]}"
        },
        {
          "target_type": "product",
          "target_ids": ["Product E"],
          "discount_data": "{\"data\":[{\"key\":0,\"min_quantity\":2,\"value_discount\":10,\"type\":\"amount_each\"},{\"key\":1,\"min_quantity\":3,\"value_discount\":15,\"type\":\"amount_each\"},{\"key\":2,\"min_quantity\":5,\"value_discount\":20,\"type\":\"amount_each\"}]}"
        }
      ]
    },
    "store": {
      "product": {
        "images": [],
        "collections": [],
        "options": [],
        "variants": [
          {
            "active": true,
            "option1": "Default Title",
            "price": 100,
            "sku": "",
            "compare_at_price": 0,
            "cost_per_item": 0,
            "bar_code": 0,
            "weight": 0,
            "is_default": true,
            "weight_unit": "lb",
            "inventory_quantity": 0,
            "inventory_management": "",
            "inventory_policy": "continue",
            "requires_shipping": true,
            "taxable": true,
            "fulfillment_service": "shopbase",
            "variant_images": [],
            "shipping_profile_id": 0,
            "title": "Default Title"
          }
        ],
        "body_html": "<p><br></p>",
        "title": "Product",
        "metafields_global_title_tag": "",
        "metafields_global_description_tag": "",
        "custom_options": [],
        "variantDefault": {
          "active": true,
          "option1": "Default Title",
          "price": 100,
          "sku": "",
          "compare_at_price": 0,
          "cost_per_item": 0,
          "bar_code": 0,
          "weight": 0,
          "is_default": true,
          "weight_unit": "lb",
          "inventory_quantity": 0,
          "inventory_management": "",
          "inventory_policy": "continue",
          "requires_shipping": true,
          "taxable": true,
          "fulfillment_service": "shopbase",
          "variant_images": [],
          "shipping_profile_id": 0,
          "title": "Default Title"
        },
        "tags": "",
        "product_availability": 1,
        "tracking_id": "",
        "tracking_access_token": ""
      },
      "products": [
        {
          "title": "Product A"
        },
        {
          "title": "Product B"
        },
        {
          "title": "Product C"
        },
        {
          "title": "Product D"
        },
        {
          "title": "Product E",
          "custom_options": [
            {
              "active": true,
              "default_value": "",
              "default_value_index": 0,
              "enabled_resize_text": false,
              "font_family": "",
              "font_path": "",
              "help_text": "",
              "id": "213551401032",
              "label": "Text",
              "layer_name": "",
              "list_layer_name": null,
              "name": "Name",
              "p_o_d_data": {
                "clipart_id": 0,
                "clipart_type": "folder",
                "is_customize_group": false,
                "is_separate_layer": false,
                "layer_data": "",
                "layers": null,
                "show_type": "thumbnail",
                "sub_custom_options": null
              },
              "placeholder": "",
              "rules": [],
              "type": "text",
              "unique": 0,
              "validations": {
                "allowed_characters": ["characters"],
                "max_length": 30,
                "min_size": 0,
                "required": true
              },
              "values": [],
              "version": 0
            },
            {
              "active": true,
              "default_value": "",
              "default_value_index": 0,
              "enabled_resize_text": false,
              "font_family": "",
              "font_path": "",
              "help_text": "",
              "id": "520232401230",
              "label": "<p>Option</p>",
              "layer_name": "",
              "list_layer_name": null,
              "name": "Radio button",
              "p_o_d_data": {
                "clipart_id": 0,
                "clipart_type": "folder",
                "is_customize_group": false,
                "is_separate_layer": false,
                "layer_data": "",
                "layers": null,
                "show_type": "thumbnail",
                "sub_custom_options": null
              },
              "placeholder": "",
              "rules": [],
              "type": "radio",
              "unique": 0,
              "validations": {
                "allowed_characters": [],
                "max_length": 0,
                "min_size": 0,
                "required": true
              },
              "values": [
                {
                  "text": "true",
                  "thumbnail": "",
                  "value": "true"
                },
                {
                  "text": "false",
                  "thumbnail": "",
                  "value": "false"
                }
              ],
              "version": 0
            },
            {
              "active": true,
              "default_value": "",
              "default_value_index": 0,
              "enabled_resize_text": false,
              "font_family": "",
              "font_path": "",
              "help_text": "",
              "id": "415003020111",
              "label": "<p>Option</p>",
              "layer_name": "",
              "list_layer_name": null,
              "name": "Checkbox",
              "p_o_d_data": {
                "clipart_id": 0,
                "clipart_type": "folder",
                "is_customize_group": false,
                "is_separate_layer": false,
                "layer_data": "",
                "layers": null,
                "show_type": "thumbnail",
                "sub_custom_options": null
              },
              "placeholder": "",
              "rules": [],
              "type": "checkbox",
              "unique": 0,
              "validations": {
                "allowed_characters": null,
                "max_length": 0,
                "min_size": 0,
                "required": false
              },
              "values": [
                {
                  "text": "option 1",
                  "thumbnail": "",
                  "value": "option 1"
                },
                {
                  "text": "option 2",
                  "thumbnail": "",
                  "value": "option 2"
                },
                {
                  "text": "option 3",
                  "thumbnail": "",
                  "value": "option 3"
                }
              ],
              "version": 0
            }
          ],
          "options": [
            {
              "name": "Size",
              "values": ["S", "M", "L"]
            }
          ],
          "variants": [
            {
              "active": true,
              "option1": "S",
              "price": 100,
              "sku": "",
              "compare_at_price": 0,
              "cost_per_item": 0,
              "bar_code": 0,
              "weight": 0,
              "weight_unit": "lb",
              "inventory_quantity": 0,
              "inventory_management": "",
              "inventory_policy": "continue",
              "requires_shipping": true,
              "taxable": true,
              "fulfillment_service": "shopbase",
              "variant_images": [],
              "shipping_profile_id": 0,
              "title": "S",
              "position": 1
            },
            {
              "active": true,
              "option1": "M",
              "price": 100,
              "sku": "",
              "compare_at_price": 0,
              "cost_per_item": 0,
              "bar_code": 0,
              "weight": 0,
              "weight_unit": "lb",
              "inventory_quantity": 0,
              "inventory_management": "",
              "inventory_policy": "continue",
              "requires_shipping": true,
              "taxable": true,
              "fulfillment_service": "shopbase",
              "variant_images": [],
              "shipping_profile_id": 0,
              "title": "M",
              "position": 2
            },
            {
              "active": true,
              "option1": "L",
              "price": 100,
              "sku": "",
              "compare_at_price": 0,
              "cost_per_item": 0,
              "bar_code": 0,
              "weight": 0,
              "weight_unit": "lb",
              "inventory_quantity": 0,
              "inventory_management": "",
              "inventory_policy": "continue",
              "requires_shipping": true,
              "taxable": true,
              "fulfillment_service": "shopbase",
              "variant_images": [],
              "shipping_profile_id": 0,
              "title": "L",
              "position": 3
            }
          ]
        },
        {
          "title": "Product F",
          "custom_options": [
            {
              "active": true,
              "default_value": "",
              "default_value_index": 0,
              "enabled_resize_text": false,
              "font_family": "",
              "font_path": "",
              "help_text": "",
              "id": "213551401032",
              "label": "Text",
              "layer_name": "",
              "list_layer_name": null,
              "name": "Name",
              "p_o_d_data": {
                "clipart_id": 0,
                "clipart_type": "folder",
                "is_customize_group": false,
                "is_separate_layer": false,
                "layer_data": "",
                "layers": null,
                "show_type": "thumbnail",
                "sub_custom_options": null
              },
              "placeholder": "",
              "rules": [],
              "type": "text",
              "unique": 0,
              "validations": {
                "allowed_characters": ["characters"],
                "max_length": 30,
                "min_size": 0,
                "required": true
              },
              "values": [],
              "version": 0
            }
          ],
          "options": [
            {
              "name": "Size",
              "values": ["S", "M"]
            }
          ],
          "variants": [
            {
              "active": true,
              "option1": "S",
              "price": 100,
              "sku": "",
              "compare_at_price": 0,
              "cost_per_item": 0,
              "bar_code": 0,
              "weight": 0,
              "weight_unit": "lb",
              "inventory_quantity": 0,
              "inventory_management": "",
              "inventory_policy": "continue",
              "requires_shipping": true,
              "taxable": true,
              "fulfillment_service": "shopbase",
              "variant_images": [],
              "shipping_profile_id": 0,
              "title": "S",
              "position": 1
            },
            {
              "active": true,
              "option1": "M",
              "price": 100,
              "sku": "",
              "compare_at_price": 0,
              "cost_per_item": 0,
              "bar_code": 0,
              "weight": 0,
              "weight_unit": "lb",
              "inventory_quantity": 0,
              "inventory_management": "",
              "inventory_policy": "continue",
              "requires_shipping": true,
              "taxable": true,
              "fulfillment_service": "shopbase",
              "variant_images": [],
              "shipping_profile_id": 0,
              "title": "M",
              "position": 2
            }
          ]
        }
      ],
      "collection": {
        "custom_collection": {
          "collection_type": "custom",
          "disjunctive": true,
          "body_html": "",
          "title": "Collection 1",
          "rules": [
            {
              "column": "tag",
              "relation": "equals",
              "condition": ""
            }
          ],
          "metafields": [
            {
              "namespace": "global",
              "key": "description_tag",
              "value": "",
              "value_type": "string"
            },
            {
              "namespace": "global",
              "key": "title_tag",
              "value": "",
              "value_type": "string"
            },
            {
              "namespace": "global",
              "key": "tracking_id",
              "value": "",
              "value_type": "string"
            },
            {
              "namespace": "global",
              "key": "tracking_access_token",
              "value": "",
              "value_type": "string"
            }
          ],
          "collection_availability": 1,
          "handle": ""
        }
      }
    },
    "sections": [
      {
        "variable": {
          "category": "Product",
          "source": "Product A"
        },
        "position_section": {
          "from": {
            "category": "Basics",
            "template": "Single column"
          },
          "to": {
            "position": {
              "section": 3
            },
            "isBottom": false
          }
        },
        "blocks": [
          {
            "create_action": "insert",
            "position_section": {
              "from": {
                "category": "Basics",
                "template": "Quantity discount"
              },
              "to": {
                "position": {
                  "section": 3,
                  "column": 1
                },
                "isBottom": true
              }
            }
          }
        ]
      }
    ]
  },
  "env": {
    "dev": {
      "domain": "au-block-quantity-dev.myshopbase.net",
      "shop_name": "au-block-quantity-dev",
      "api": "https://gapi.dev.shopbase.net",
      "username": "front-qe-1@beeketing.net",
      "password": "Front@123",
      "shop_id": 10326878,
      "user_id": 90252,
      "env": "dev",
      "pre_condition": {
        "id_template": 40,
        "hide_layers": ["Popup"]
      }
    },
    "prodtest": {
      "domain": "au-block-quantity-prodtest.onshopbase.com",
      "shop_name": "au-block-quantity-prodtest",
      "api": "https://prod-test-api.shopbase.com",
      "username": "front-qe-1@beeketing.net",
      "password": "Front@123",
      "shop_id": 10429482,
      "user_id": 11260206,
      "env": "prodtest",
      "pre_condition": {
        "id_template": 22,
        "hide_layers": ["Popup"]
      },
      "accounts_domain": "accounts-test.shopbase.com"
    },
    "prod": {
      "domain": "au-block-quantity.onshopbase.com",
      "shop_name": "au-block-quantity",
      "api": "https://api.shopbase.com",
      "username": "shopbase@beeketing.net",
      "password": "Q(f!3Kx+6n;?Us%F",
      "shop_id": 10424870,
      "user_id": 73782,
      "env": "prod",
      "pre_condition": {
        "id_template": 22,
        "hide_layers": ["Popup"]
      }
    }
  },
  "cases": {
    "SB_WEB_BUILDER_LBA_BQD_01": {
      "description": "Verify default data of block Quantity discount when drag and insert on section",
      "data": {
        "sections": [
          {
            "variable": {
              "category": "Product",
              "source": "Product B"
            },
            "position_section": {
              "from": {
                "category": "Basics",
                "template": "Single column"
              },
              "to": {
                "position": {
                  "section": 3
                },
                "isBottom": false
              }
            },
            "blocks": [
              {
                "position_section": {
                  "from": {
                    "category": "Basics",
                    "template": "Quantity discount"
                  },
                  "to": {
                    "position": {
                      "section": 3,
                      "column": 1
                    },
                    "isBottom": true
                  }
                }
              }
            ]
          }
        ],
        "startup_page": "home"
      }
    },
    "SB_WEB_BUILDER_LBA_BQD_02": {
      "description": "Verify block Quantity discount with different product pages and offers",
      "data": {
        "sections": [
          {
            "variable": {
              "category": "Current page product"
            },
            "position_section": {
              "from": {
                "category": "Basics",
                "template": "Single column"
              },
              "to": {
                "position": {
                  "section": 3
                },
                "isBottom": false
              }
            },
            "blocks": [
              {
                "position_section": {
                  "from": {
                    "category": "Basics",
                    "template": "Quantity discount"
                  },
                  "to": {
                    "position": {
                      "section": 3,
                      "column": 1
                    },
                    "isBottom": true
                  }
                }
              }
            ]
          }
        ],
        "startup_page": "product",
        "verify": {
          "pages": ["products/product-a", "products/product-b", "products/product-c", "products/product-d"]
        }
      }
    },
    "SB_WEB_BUILDER_LBA_BQD_05": {
      "description": "Verify block Quantity Discount when change heading style (content align)",
      "data": {
        "sections": [],
        "startup_page": "product",
        "verify": {
          "page": "products/product-a",
          "content_aligns": ["left", "center", "right"]
        }
      }
    },
    "SB_WEB_BUILDER_LBA_BQD_06": {
      "description": "Verify block Quantity Discount when change shape style",
      "data": {
        "sections": [],
        "startup_page": "product",
        "verify": {
          "page": "products/product-a",
          "shapes": [1, 2, 3]
        }
      }
    },
    "SB_WEB_BUILDER_LBA_BQD_07": {
      "description": "Verify when change setting of block Quantity discount",
      "data": {
        "sections": [],
        "startup_page": "product",
        "verify": {
          "page": "products/product-a",
          "tab_contents": [
            {
              "show_heading": true,
              "show_total_price": true,
              "show_add_cart_button": true,
              "button_action": "Go to cart page",
              "redirect": true
            },
            {
              "show_heading": false,
              "show_total_price": false,
              "show_add_cart_button": true,
              "button_action": "Continue shopping",
              "redirect": false
            },
            {
              "show_heading": false,
              "show_total_price": false,
              "show_add_cart_button": false
            }
          ]
        }
      }
    },
    "SB_WEB_BUILDER_LBA_BQD_08": {
      "description": "Verify style of block Quantity discount when change color and font on website style",
      "data": {
        "sections": [],
        "startup_page": "product",
        "verify": {
          "page": "products/product-a",
          "color_library": 2,
          "font_library": 7
        }
      }
    },
    "SB_WEB_BUILDER_LBA_BQD_09": {
      "description": "Verify block Quantity discount when resize",
      "data": {
        "sections": [],
        "startup_page": "product",
        "verify": {
          "page": "products/product-a",
          "resizes": [
            {
              "position": "top",
              "allow": false
            },
            {
              "position": "top-right",
              "allow": false
            },
            {
              "position": "right",
              "allow": true,
              "block_width": 600
            },
            {
              "position": "right",
              "allow": true,
              "block_width": 300
            },
            {
              "position": "right",
              "allow": true,
              "block_width": 150
            }
          ]
        }
      }
    },
    "SB_WEB_BUILDER_LBA_BQD_10": {
      "description": "Verify block Quantity discount when duplicate on quick bar",
      "data": {
        "sections": [],
        "startup_page": "product",
        "verify": {
          "page": "products/product-a"
        }
      }
    },
    "SB_WEB_BUILDER_LBA_BQD_11": {
      "description": "Verify block Quantity discount when delete on quick bar",
      "data": {
        "sections": [],
        "startup_page": "product",
        "verify": {
          "page": "products/product-a"
        }
      }
    },
    "SB_WEB_BUILDER_LBA_BQD_12": {
      "description": "Verify offer display on each product page",
      "data": {
        "sections": [],
        "startup_page": "product",
        "verify": {
          "pages": ["products/product-a", "products/product-b"]
        }
      }
    },
    "SB_WEB_BUILDER_LBA_BQD_13": {
      "description": "Verify apply discount from offer of block Quantity discount",
      "data": {
        "sections": [],
        "startup_page": "product",
        "verify": {
          "page": "products/product-a",
          "discounts": [
            {
              "quantity": 2,
              "discount": 20
            },
            {
              "quantity": 3,
              "discount": 45
            },
            {
              "quantity": 4,
              "discount": 60
            },
            {
              "quantity": 5,
              "discount": 100
            }
          ],
          "checkout_info": {
            "email": "annguyen2@qa.team",
            "fName": "An",
            "lName": "Nguyen",
            "add": "130 Trung Phung",
            "city": "New York",
            "state": "New York",
            "zip": "10001",
            "country": "United States",
            "phone": "0967390098"
          },
          "payment_method": "Stripe"
        }
      }
    },
    "SB_WEB_BUILDER_LBA_BQD_14": {
      "description": "Verify add offer on block Quantity discount when product has custom options",
      "data": {
        "sections": [
          {
            "variable": {
              "category": "Product",
              "source": "Product E"
            },
            "position_section": {
              "from": {
                "category": "Basics",
                "template": "Single column"
              },
              "to": {
                "position": {
                  "section": 3
                },
                "isBottom": false
              }
            },
            "blocks": [
              {
                "position_section": {
                  "from": {
                    "category": "Basics",
                    "template": "Quantity discount"
                  },
                  "to": {
                    "position": {
                      "section": 3,
                      "column": 1
                    },
                    "isBottom": true
                  }
                }
              },
              {
                "position_section": {
                  "from": {
                    "category": "Basics",
                    "template": "Variant picker"
                  },
                  "to": {
                    "position": {
                      "section": 3,
                      "column": 1
                    },
                    "isBottom": true
                  }
                }
              }
            ]
          }
        ],
        "startup_page": "product",
        "verify": {
          "page": "products/product-e",
          "variant_pickers": [
            {
              "option_radius": true,
              "option_checkbox": "option 1",
              "expect_added": false
            },
            {
              "size": "S",
              "option_text": "Test",
              "expect_added": true
            }
          ]
        }
      }
    },
    "SB_WEB_BUILDER_LBA_BQD_15": {
      "description": "Verify offer discount on block Quantity discount is synchronous when add products from button",
      "data": {
        "sections": [
          {
            "variable": {
              "category": "Current page product"
            },
            "position_section": {
              "from": {
                "category": "Basics",
                "template": "1:1"
              },
              "to": {
                "position": {
                  "section": 3
                },
                "isBottom": false
              }
            },
            "rows": [
              {
                "design": {
                  "spacing": 10
                }
              }
            ],
            "blocks": [
              {
                "position_section": {
                  "from": {
                    "category": "Basics",
                    "template": "Variant picker"
                  },
                  "to": {
                    "position": {
                      "section": 3,
                      "column": 1
                    },
                    "isBottom": false
                  }
                }
              },
              {
                "position_section": {
                  "from": {
                    "category": "Basics",
                    "template": "Quantity"
                  },
                  "to": {
                    "position": {
                      "section": 3,
                      "column": 1
                    },
                    "isBottom": false
                  }
                }
              },
              {
                "position_section": {
                  "from": {
                    "category": "Basics",
                    "template": "Quantity discount"
                  },
                  "to": {
                    "position": {
                      "section": 3,
                      "column": 2
                    },
                    "isBottom": false
                  }
                }
              },
              {
                "content": {
                  "title": "Add",
                  "action": "Add to cart"
                },
                "position_section": {
                  "from": {
                    "category": "Basics",
                    "template": "Button"
                  },
                  "to": {
                    "position": {
                      "section": 3,
                      "column": 2
                    },
                    "isBottom": false
                  }
                }
              }
            ]
          }
        ],
        "startup_page": "product",
        "verify": {
          "page": "products/product-e",
          "variant_pickers": [
            {
              "size": "S",
              "option_text": "Test",
              "quantity": 2,
              "expect_added": true,
              "page": "products/product-e"
            },
            {
              "size": "S",
              "option_text": "Test",
              "quantity": 1,
              "expect_added": true,
              "page": "products/product-e",
              "clear_cart": true
            },
            {
              "size": "M",
              "option_text": "Test",
              "quantity": 1,
              "expect_added": true,
              "page": "products/product-e"
            },
            {
              "size": "L",
              "option_text": "Test",
              "quantity": 1,
              "expect_added": true,
              "page": "products/product-e"
            },
            {
              "size": "S",
              "option_text": "Test",
              "quantity": 2,
              "expect_added": true,
              "page": "products/product-f"
            }
          ]
        }
      }
    },
    "SB_WEB_BUILDER_LBA_BQD_16": {
      "description": "Verify show placeholder of block Quantity discount",
      "data": {
        "sections": [
          {
            "variable": {
              "category": "Current page product"
            },
            "position_section": {
              "from": {
                "category": "Basics",
                "template": "Single column"
              },
              "to": {
                "position": {
                  "section": 3
                },
                "isBottom": false
              }
            },
            "blocks": [
              {
                "position_section": {
                  "from": {
                    "category": "Basics",
                    "template": "Quantity discount"
                  },
                  "to": {
                    "position": {
                      "section": 3,
                      "column": 1
                    },
                    "isBottom": true
                  }
                }
              }
            ]
          }
        ],
        "startup_page": "product",
        "verify": {
          "pages": ["products/product-a", "products/product-b"],
          "offer": {
            "target_type": "product",
            "target_ids": ["Product A"],
            "discount_data": "{\"data\":[{\"key\":0,\"min_quantity\":2,\"value_discount\":10,\"type\":\"amount_each\"},{\"key\":1,\"min_quantity\":3,\"value_discount\":15,\"type\":\"amount_each\"},{\"key\":2,\"min_quantity\":5,\"value_discount\":20,\"type\":\"amount_each\"}]}"
          },
          "products": ["Product A", "Product B"]
        }
      }
    }
  }
}
